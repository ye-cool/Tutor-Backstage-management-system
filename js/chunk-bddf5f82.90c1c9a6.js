(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bddf5f82"],{"04cc":function(a,e,t){"use strict";t("9fec")},"9fec":function(a,e,t){},eff6:function(a,e,t){"use strict";t.r(e);var n=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{style:{padding:"24px",background:"#fff",textAlign:"center"}},[t("div",{staticClass:"content"},[t("a-table",{attrs:{columns:a.columns,"data-source":a.data,pagination:!1,rowKey:"aid"},scopedSlots:a._u([{key:"operate",fn:function(e){return t("a",{},[t("a",{on:{click:function(t){return a.showModal(e)}}},[a._v("更换密码")])])}}])}),t("a-pagination",{staticStyle:{margin:"16px 0","text-align":"right"},attrs:{current:a.pagination.displayPage,pageSize:a.pagination.displayRows,total:a.pagination.total,pageSizeOptions:a.pagination.pageSizeOptions,showTotal:function(a){return"共 "+a+" 条数据"},showSizeChanger:"",showQuickJumper:""},on:{change:a.handlePageChange,showSizeChange:a.showSizeChange}}),t("a-modal",{attrs:{width:"500px",visible:a.modalVisible,closable:!1,title:"更换密码"}},[t("template",{slot:"footer"},[t("a-button",{key:"back",attrs:{type:"primary"},on:{click:a.handleCancel}},[a._v(" 返回 ")]),t("a-button",{key:"submit",attrs:{type:"primary",loading:a.loading},on:{click:a.handleOk}},[a._v(" 保存 ")])],1),t("a-form",{staticClass:"form",attrs:{form:a.form}},[t("a-form-item",{attrs:{label:"新密码"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["NewPassword"],expression:"['NewPassword']"}],attrs:{type:"text"}})],1)],1)],2)],1)])},o=[],i=[{title:"昵称",dataIndex:"username",key:"username"},{title:"微信昵称",dataIndex:"wechat",key:"wechat",width:200},{title:"账号",dataIndex:"aid",key:"aid",ellipsis:!0},{title:"密码",dataIndex:"password",key:"password",ellipsis:!0},{title:"操作",key:"operate",ellipsis:!0,scopedSlots:{customRender:"operate"}}],s=[],l={created:function(){this.gettable()},data:function(){return{adminInfo:{pageNumber:1,pageSize:10},data:s,columns:i,aid:null,form:this.$form.createForm(this),loading:!1,pagination:{displayPage:1,displayRows:10,pageSize:10,total:0,pageSizeOptions:["10","20","30","50"]},modalVisible:!1}},methods:{gettable:function(){var a=this;a.$api.mode.getAdmins({params:a.adminInfo}).then((function(e){console.log(e),a.data=[],a.data=e.data.records,a.pagination.total=e.data.total,console.log(a.data)})).catch((function(a){console.log(a.response)}))},onChange:function(a,e){console.log(a,e)},filter:function(a,e){return e.some((function(e){return e.label.toLowerCase().indexOf(a.toLowerCase())>-1}))},showModal:function(a){this.aid=null,this.aid=a.aid,this.modalVisible=!0},showSizeChange:function(a,e){this.pagination.displayRows=e,this.adminInfo.pageSize=e,this.gettable()},handlePageChange:function(a){console.log(a),this.pagination.displayPage=a,this.adminInfo.pageNumber=a,this.gettable()},handleCancel:function(){this.modalVisible=!1},handleOk:function(a){var e=this;this.loading=!0,a.preventDefault(),this.form.validateFields((function(a,t){console.log("error",a),console.log("Received values of form: ",t),e.$api.mode.changePassword({aid:e.aid,newPassword:t.NewPassword}).then((function(a){console.log(a.data),e.gettable()})).catch((function(a){console.log(a.response)}))})),this.loading=!1,this.modalVisible=!1}}},r=l,d=(t("04cc"),t("2877")),c=Object(d["a"])(r,n,o,!1,null,null,null);e["default"]=c.exports}}]);