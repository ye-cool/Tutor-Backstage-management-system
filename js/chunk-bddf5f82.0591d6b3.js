(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bddf5f82"],{"04cc":function(t,a,e){"use strict";e("9fec")},"9fec":function(t,a,e){},eff6:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{style:{padding:"24px",background:"#fff",textAlign:"center"}},[e("div",{staticClass:"content"},[e("a-page-header",{staticStyle:{border:"1px solid rgb(235, 237, 240)"},attrs:{title:"Title","sub-title":"This is a subtitle"}},[e("template",{slot:"extra"},[e("span",[t._v("管理员A")]),e("a-button",{key:"1",attrs:{type:"primary"}},[t._v(" 退出 ")])],1)],2),e("a-table",{attrs:{columns:t.columns,"data-source":t.data,pagination:!1,rowKey:"aid"},scopedSlots:t._u([{key:"operate",fn:function(a){return e("a",{},[e("a",{on:{click:function(e){return t.showModal(a)}}},[t._v("更换密码")])])}}])}),e("a-pagination",{staticStyle:{margin:"16px 0","text-align":"right"},attrs:{current:t.pagination.displayPage,pageSize:t.pagination.displayRows,total:t.pagination.total,pageSizeOptions:t.pagination.pageSizeOptions,showTotal:function(t){return"共 "+t+" 条数据"},showSizeChanger:"",showQuickJumper:""},on:{change:t.handlePageChange,showSizeChange:t.showSizeChange}}),e("a-modal",{attrs:{width:"500px",visible:t.modalVisible,closable:!1,title:"更换密码"}},[e("template",{slot:"footer"},[e("a-button",{key:"back",attrs:{type:"primary"},on:{click:t.handleCancel}},[t._v(" 返回 ")]),e("a-button",{key:"submit",attrs:{type:"primary",loading:t.loading},on:{click:t.handleOk}},[t._v(" 保存 ")])],1),e("a-form",{staticClass:"form",attrs:{form:t.form}},[e("a-form-item",{attrs:{label:"新密码"}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["NewPassword"],expression:"['NewPassword']"}],attrs:{type:"text"}})],1)],1)],2)],1)])},n=[],o=[{title:"昵称",dataIndex:"username",key:"username"},{title:"微信昵称",dataIndex:"wechat",key:"wechat",width:200},{title:"账号",dataIndex:"aid",key:"aid",ellipsis:!0},{title:"密码",dataIndex:"password",key:"password",ellipsis:!0},{title:"操作",key:"operate",ellipsis:!0,scopedSlots:{customRender:"operate"}}],s=[],l={created:function(){this.gettable()},data:function(){return{adminInfo:{pageNumber:1,pageSize:10},data:s,columns:o,aid:null,form:this.$form.createForm(this),loading:!1,pagination:{displayPage:1,displayRows:10,pageSize:10,total:0,pageSizeOptions:["10","20","30","50"]},modalVisible:!1}},methods:{gettable:function(){var t=this;t.$api.mode.getAdmins({params:t.adminInfo}).then((function(a){console.log(a),t.data=[],t.data=a.data.records,t.pagination.total=a.data.total,console.log(t.data)})).catch((function(t){console.log(t.response)}))},onChange:function(t,a){console.log(t,a)},filter:function(t,a){return a.some((function(a){return a.label.toLowerCase().indexOf(t.toLowerCase())>-1}))},showModal:function(t){this.aid=null,this.aid=t.aid,this.modalVisible=!0},showSizeChange:function(t,a){this.pagination.displayRows=a,this.adminInfo.pageSize=a,this.gettable()},handlePageChange:function(t){console.log(t),this.pagination.displayPage=t,this.adminInfo.pageNumber=t,this.gettable()},handleCancel:function(){this.modalVisible=!1},handleOk:function(t){var a=this;this.loading=!0,t.preventDefault(),this.form.validateFields((function(t,e){console.log("error",t),console.log("Received values of form: ",e),a.$api.mode.changePassword({aid:a.aid,newPassword:e.newPassword}).then((function(t){console.log(t.data),a.gettable()})).catch((function(t){console.log(t.response)}))})),this.loading=!1,this.modalVisible=!1}}},r=l,d=(e("04cc"),e("2877")),c=Object(d["a"])(r,i,n,!1,null,null,null);a["default"]=c.exports}}]);