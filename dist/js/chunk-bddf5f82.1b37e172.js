(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bddf5f82"],{"04cc":function(e,a,t){"use strict";t("9fec")},"9fec":function(e,a,t){},eff6:function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{style:{padding:"24px",background:"#fff",textAlign:"center"}},[t("div",{staticClass:"content"},[t("a-table",{attrs:{columns:e.columns,"data-source":e.data,pagination:!1,rowKey:"aid"},scopedSlots:e._u([{key:"operate",fn:function(a){return t("a",{},[t("a",{staticClass:"change",on:{click:function(t){return e.showModal(a)}}},[e._v("更换密码")]),t("a",{on:{click:function(t){return e.remove(a)}}},[e._v("删除")])])}}])}),t("a-pagination",{staticStyle:{margin:"16px 0","text-align":"right"},attrs:{current:e.pagination.displayPage,pageSize:e.pagination.displayRows,total:e.pagination.total,pageSizeOptions:e.pagination.pageSizeOptions,showTotal:function(e){return"共 "+e+" 条数据"},showSizeChanger:"",showQuickJumper:""},on:{change:e.handlePageChange,showSizeChange:e.showSizeChange}}),t("a-modal",{attrs:{width:"500px",visible:e.modalVisible,closable:!1,title:"更换密码"}},[t("template",{slot:"footer"},[t("a-button",{key:"back",attrs:{type:"primary"},on:{click:e.handleCancel}},[e._v(" 返回 ")]),t("a-button",{key:"submit",attrs:{type:"primary",loading:e.loading},on:{click:e.handleOk}},[e._v(" 保存 ")])],1),t("a-form",{staticClass:"form",attrs:{form:e.form}},[t("a-form-item",{attrs:{label:"新密码"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["NewPassword",{rules:[{required:!0,message:"请输入密码"}]}],expression:"[\n              'NewPassword',\n              {\n                rules: [\n                  {\n                    required: true,\n                    message: '请输入密码',\n                  },\n                ],\n              },\n            ]"}],attrs:{type:"text"}})],1)],1)],2)],1)])},i=[],o=[{title:"昵称",dataIndex:"username",key:"username"},{title:"微信昵称",dataIndex:"wechat",key:"wechat",width:200},{title:"账号",dataIndex:"aid",key:"aid",ellipsis:!0},{title:"密码",dataIndex:"password",key:"password",ellipsis:!0},{title:"操作",key:"operate",ellipsis:!0,scopedSlots:{customRender:"operate"}}],s=[],l={created:function(){this.gettable()},data:function(){return{adminInfo:{pageNumber:1,pageSize:10},data:s,columns:o,aid:null,form:this.$form.createForm(this),loading:!1,pagination:{displayPage:1,displayRows:10,pageSize:10,total:0,pageSizeOptions:["10","20","30","50"]},modalVisible:!1}},methods:{gettable:function(){var e=this;e.$api.mode.getAdmins({params:e.adminInfo}).then((function(a){console.log(a),e.data=[],e.data=a.data.records,e.pagination.total=a.data.total,console.log(e.data)})).catch((function(e){console.log(e.response)}))},showModal:function(e){this.aid=null,this.aid=e.aid,this.modalVisible=!0},showSizeChange:function(e,a){this.pagination.displayRows=a,this.adminInfo.pageSize=a,this.gettable()},handlePageChange:function(e){console.log(e),this.pagination.displayPage=e,this.adminInfo.pageNumber=e,this.gettable()},handleCancel:function(){this.modalVisible=!1},handleOk:function(e){var a=this;e.preventDefault(),this.form.validateFields((function(e,t){e||(a.loading=!0,console.log("Received values of form: ",t),a.$api.mode.changePassword({aid:a.aid,newPassword:t.NewPassword}).then((function(e){console.log(e.data),a.gettable(),a.loading=!1,a.modalVisible=!1})).catch((function(e){console.log(e.response)})))}))},remove:function(e){var a=this;console.log(e),this.$api.mode.deleteAdmin(e.aid).then((function(e){console.log(e.data),a.gettable()})).catch((function(e){console.log(e.response)}))}}},d=l,r=(t("04cc"),t("2877")),c=Object(r["a"])(d,n,i,!1,null,null,null);a["default"]=c.exports}}]);