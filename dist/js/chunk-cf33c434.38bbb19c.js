(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cf33c434"],{5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var i=a("1d80"),n=a("577e"),o=a("5899"),r="["+o+"]",s=RegExp("^"+r+r+"*"),d=RegExp(r+r+"*$"),l=function(e){return function(t){var a=n(i(t));return 1&e&&(a=a.replace(s,"")),2&e&&(a=a.replace(d,"")),a}};e.exports={start:l(1),end:l(2),trim:l(3)}},"6b0c":function(e,t,a){},7156:function(e,t,a){var i=a("861d"),n=a("d2bb");e.exports=function(e,t,a){var o,r;return n&&"function"==typeof(o=t.constructor)&&o!==a&&i(r=o.prototype)&&r!==a.prototype&&n(e,r),e}},"9ea2":function(e,t,a){"use strict";a("6b0c")},a9e3:function(e,t,a){"use strict";var i=a("83ab"),n=a("da84"),o=a("94ca"),r=a("6eeb"),s=a("5135"),d=a("c6b6"),l=a("7156"),m=a("d9b5"),c=a("c04e"),u=a("d039"),f=a("7c73"),p=a("241c").f,g=a("06cf").f,h=a("9bf2").f,b=a("58a8").trim,I="Number",v=n[I],y=v.prototype,_=d(f(y))==I,R=function(e){if(m(e))throw TypeError("Cannot convert a Symbol value to a number");var t,a,i,n,o,r,s,d,l=c(e,"number");if("string"==typeof l&&l.length>2)if(l=b(l),t=l.charCodeAt(0),43===t||45===t){if(a=l.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:i=2,n=49;break;case 79:case 111:i=8,n=55;break;default:return+l}for(o=l.slice(2),r=o.length,s=0;s<r;s++)if(d=o.charCodeAt(s),d<48||d>n)return NaN;return parseInt(o,i)}return+l};if(o(I,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var k,w=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof w&&(_?u((function(){y.valueOf.call(a)})):d(a)!=I)?l(new v(R(t)),a,w):R(t)},S=i?p(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),L=0;S.length>L;L++)s(v,k=S[L])&&!s(w,k)&&h(w,k,g(v,k));w.prototype=y,y.constructor=w,r(n,I,w)}},fe93:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{style:{padding:"24px",background:"#fff",textAlign:"center"}},[a("div",{staticClass:"content"},[a("a-table",{attrs:{columns:e.columns,"data-source":e.data,pagination:!1,rowKey:"did"},scopedSlots:e._u([{key:"SubjectsAndGrand",fn:function(t){return a("span",{},[e._v(e._s(void 0==t||e.itemId.filter((function(e){return e.iId==t}))==[]?null:e.itemId.filter((function(e){return e.iId==t}))[0].item))])}},{key:"studyArea",fn:function(t){return a("span",{},[e._v(e._s(e.areaId[t]))])}},{key:"verifyStatus",fn:function(t){return a("span",{},[e._v(e._s(0==t?"未审核":"已通过"))])}},{key:"applyTeachers",fn:function(t,i){return a("a",{},[a("a",{on:{click:function(t){return e.showModal2(i)}}},[e._v("已有"+e._s(t)+"人投递")])])}},{key:"need",fn:function(t){return[a("a",{on:{click:function(a){return e.showModal(t)}}},[e._v("编辑")])]}},{key:"operate",fn:function(t){return a("a",{},[a("a",{on:{click:function(a){return e.reject(t)}}},[e._v(" "+e._s(0==t.processStatus?"结束订单":"已完成")+" ")]),a("a",{on:{click:function(a){return e.AddNotes(t)}}},[e._v(e._s(null==t.remark?"添加备注":"查看备注"))])])}}])}),a("a-pagination",{staticStyle:{margin:"16px 0","text-align":"right"},attrs:{current:e.pagination.displayPage,pageSize:e.pagination.displayRows,total:e.pagination.total,pageSizeOptions:e.pagination.pageSizeOptions,showTotal:function(e){return"共 "+e+" 条数据"},showSizeChanger:"",showQuickJumper:""},on:{change:e.handlePageChange,showSizeChange:e.showSizeChange}}),a("a-modal",{attrs:{visible:e.modal1Visible,title:"家长需求",closable:!1,width:"700px"}},[a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:e.handleCancel1}},[e._v(" 返回 ")]),a("a-button",{key:"submit",attrs:{type:"primary",loading:e.loading},on:{click:e.handleOk1}},[e._v(" 发布 ")])],1),a("a-form",{attrs:{form:e.form}},[a("a-form-item",e._b({attrs:{label:"家长称谓"}},"a-form-item",e.formItemLayout,!1),[a("span",[e._v(" "+e._s(e.demandRegister.parentName)+" ")])]),a("a-form-item",e._b({attrs:{label:"学生补习科目"}},"a-form-item",e.formItemLayout,!1),[a("span",[e._v(" "+e._s(void 0==e.demandRegister.itemId||e.itemId.filter((function(t){return t.iId==e.demandRegister.itemId}))==[]?null:e.itemId.filter((function(t){return t.iId==e.demandRegister.itemId}))[0].item)+" ")])]),a("a-form-item",e._b({attrs:{label:"学生情况与老师要求"}},"a-form-item",e.formItemLayout,!1),[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["studentLearningSituation",{initialValue:e.demandRegister.studentLearningSituation}],expression:"[\n              'studentLearningSituation',\n              {\n                initialValue: demandRegister.studentLearningSituation,\n              },\n            ]"}],staticStyle:{width:"500px"},attrs:{rows:4}})],1),a("a-form-item",e._b({attrs:{label:"联系电话","has-feedback":""}},"a-form-item",e.formItemLayout,!1),[a("span",[e._v(e._s(e.demandRegister.phone)+" ")])]),a("a-form-item",e._b({attrs:{label:"家庭住址","has-feedback":""}},"a-form-item",e.formItemLayout,!1),[a("span",[e._v(" "+e._s(e.areaId[e.demandRegister.areaId]))])]),a("a-form-item",e._b({},"a-form-item",e.formItemLayout,!1),[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 详细地址 ")]),a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["detailadress",{initialValue:e.demandRegister.address}],expression:"[\n              'detailadress',\n              {\n                initialValue: demandRegister.address,\n              },\n            ]"}],staticStyle:{width:"500px"}})],1),a("a-form-item",e._b({},"a-form-item",e.formItemLayout,!1),[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 预期价格 ")]),a("span",[e._v(e._s(e.demandRegister.price))]),a("span",[e._v("元/小时")])]),a("a-form-item",e._b({},"a-form-item",e.formItemLayout,!1),[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 展示价格 ")]),a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["verifyPrice",{initialValue:null==e.demandRegister.verifiedPrice?null:e.demandRegister.verifiedPrice}],expression:"[\n              'verifyPrice',\n              {\n                initialValue:\n                  demandRegister.verifiedPrice == null\n                    ? null\n                    : demandRegister.verifiedPrice,\n              },\n            ]"}],staticStyle:{width:"50px"}}),a("span",[e._v("元/小时")])],1),a("a-form-item",e._b({},"a-form-item",e.formItemLayout,!1),[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 教师性别要求 ")]),a("span",[e._v(e._s(0==e.demandRegister.teacherGender?"男":1==e.demandRegister.teacherGender?"女":"均可"))])]),a("a-form-item",e._b({},"a-form-item",e.formItemLayout,!1),[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 补习时长 ")]),a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["studyHours",{initialValue:null==e.demandRegister.classHours?null:e.demandRegister.classHours}],expression:"[\n              'studyHours',\n              {\n                initialValue:\n                  demandRegister.classHours == null\n                    ? null\n                    : demandRegister.classHours,\n              },\n            ]"}],staticStyle:{width:"500px"}})],1),a("a-form-item",e._b({},"a-form-item",e.formItemLayout,!1),[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 空闲时间 ")]),e._l(e.demandRegister.studyTimes,(function(t){return a("span",{key:t},[e._v(e._s(e.timeId[t])+"；")])}))],2),a("a-form-item",e._b({},"a-form-item",e.formItemLayout,!1),[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 设置优先级 ")]),a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["priority",{initialValue:null==e.demandRegister.priority?null:e.demandRegister.priority}],expression:"[\n              'priority',\n              {\n                initialValue:\n                  demandRegister.priority == null\n                    ? null\n                    : demandRegister.priority,\n              },\n            ]"}],staticStyle:{width:"100px"},attrs:{placeholder:"优先级",allowClear:!0}},e._l(e.options2,(function(t){return a("a-select-option",{key:t},[e._v(" "+e._s(t)+" ")])})),1)],1)],1)],2),a("a-modal",{attrs:{visible:e.modalVisible,closable:!1,title:"备注",width:"700px"}},[a("template",{slot:"footer"},[a("a-button",{key:"back",attrs:{type:"primary"},on:{click:e.handleCancel}},[e._v(" 返回 ")]),a("a-button",{key:"submit",attrs:{type:"primary",loading:e.loading},on:{click:e.handleOk}},[e._v(" 保存 ")])],1),a("a-form",{staticClass:"form",attrs:{form:e.form}},[a("a-form-item",e._b({attrs:{label:"备注"}},"a-form-item",e.formItemLayout,!1),[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["notes",{initialValue:e.notes}],expression:"[\n              'notes',\n              {\n                initialValue: notes,\n              },\n            ]"}],staticStyle:{width:"500px"},attrs:{rows:4}})],1)],1)],2),a("a-modal",{attrs:{visible:e.modal2Visible,title:"Title","on-ok":"handleOk2",closable:!1}},[a("template",{slot:"footer"},[a("a-button",{key:"back",attrs:{type:"primary"},on:{click:e.handleCancel2}},[e._v(" 返回 ")])],1),a("a-form",{staticClass:"form"},[a("a-form-item",e._b({attrs:{label:"投递老师"}},"a-form-item",e.formItemLayout,!1),[a("div",{staticClass:"teachername"},[e._l(e.teachers,(function(t){return a("a",{key:t.name,on:{click:function(a){return e.showteacherModal(t)}}},[e._v(e._s(void 0==t.name?"无":t.name)+"；")])})),0==e.teachers.length?a("div",[e._v("无")]):e._e()],2)]),a("a-form-item",e._b({attrs:{label:"家长称谓"}},"a-form-item",e.formItemLayout,!1),[a("span",[e._v(e._s(e.demandRegister.parentName))])]),a("a-form-item",e._b({attrs:{label:"学生补习科目","has-feedback":""}},"a-form-item",e.formItemLayout,!1),[a("span",[e._v(e._s(void 0==e.demandRegister.itemId||e.itemId.filter((function(t){return t.iId==e.demandRegister.itemId}))==[]?null:e.itemId.filter((function(t){return t.iId==e.demandRegister.itemId}))[0].item))])]),a("a-form-item",e._b({attrs:{label:"学习情况","has-feedback":""}},"a-form-item",e.formItemLayout,!1),[a("span",[e._v(e._s(e.demandRegister.studentLearningSituation))])]),a("a-form-item",e._b({attrs:{label:"联系电话","has-feedback":""}},"a-form-item",e.formItemLayout,!1),[a("span",[e._v(e._s(e.demandRegister.phone))])]),a("a-form-item",e._b({attrs:{label:"家庭住址","has-feedback":""}},"a-form-item",e.formItemLayout,!1),[a("span",[e._v(e._s(e.demandRegister.address))])]),a("a-form-item",e._b({attrs:{label:"期望价格","has-feedback":""}},"a-form-item",e.formItemLayout,!1),[a("span",[e._v(e._s(e.demandRegister.price))]),a("span",[e._v("元/小时")])]),a("a-form-item",e._b({attrs:{label:"展示价格","has-feedback":""}},"a-form-item",e.formItemLayout,!1),[a("span",[e._v(e._s(e.demandRegister.verifiedPrice))]),a("span",[e._v("元/小时")])]),a("a-form-item",e._b({attrs:{label:"教师性别要求","has-feedback":""}},"a-form-item",e.formItemLayout,!1),[a("span",[e._v(e._s(0==e.demandRegister.teacherGender?"男":1==e.demandRegister.teacherGender?"女":"均可"))])]),a("a-form-item",e._b({attrs:{label:"补习时长","has-feedback":""}},"a-form-item",e.formItemLayout,!1),[a("span",[e._v(e._s(e.demandRegister.classHours))])]),a("a-form-item",e._b({attrs:{label:"空闲时间","has-feedback":""}},"a-form-item",e.formItemLayout,!1),e._l(e.demandRegister.studyTimes,(function(t){return a("span",{key:t},[e._v(e._s(e.timeId[t])+"；")])})),0)],1)],2)],1)])},n=[],o=(a("a9e3"),[{title:"家长称谓",dataIndex:"parentName",key:"parentName"},{title:"学生年级与补习科目",dataIndex:"itemId",key:"SubjectsAndGrand",width:200,scopedSlots:{customRender:"SubjectsAndGrand"}},{title:"联系电话",dataIndex:"phone",key:"phone",ellipsis:!0},{title:"家庭住址范围",dataIndex:"studyArea",key:"studyArea",ellipsis:!0,scopedSlots:{customRender:"studyArea"}},{title:"需求查看",key:"need",ellipsis:!0,scopedSlots:{customRender:"need"}},{title:"审核状态",dataIndex:"verifyStatus",key:"verifyStatus",ellipsis:!0,scopedSlots:{customRender:"verifyStatus"}},{title:"投递状态",dataIndex:"applyTeachers",key:"applyTeachers",ellipsis:!0,scopedSlots:{customRender:"applyTeachers"},width:200},{title:"操作",key:"operate",ellipsis:!0,width:200,scopedSlots:{customRender:"operate"}}]),r=["锦江区","金牛区","武侯区","青羊区","成华区","高新区","天府新区","新都区","郫都区","双流区","龙泉驿区","温江区","其他"],s=[{iId:10,item:"小学全科"},{iId:11,item:"小学语文"},{iId:12,item:"小学奥数"},{iId:13,item:"小学数学"},{iId:14,item:"小学英语"},{iId:15,item:"小学作业辅导"},{iId:20,item:"初中全科"},{iId:21,item:"初中语文"},{iId:22,item:"初中英语"},{iId:23,item:"初中数学"},{iId:24,item:"初中物理"},{iId:25,item:"初中化学"},{iId:30,item:"高中数学"},{iId:31,item:"高中语文"},{iId:32,item:"高中英语"},{iId:33,item:"高中物理"},{iId:34,item:"高中化学"},{iId:35,item:"高中生物"},{iId:36,item:"高中历史"},{iId:37,item:"高中政治"},{iId:38,item:"高中地理"},{iId:40,item:"小语种法语"},{iId:41,item:"小语种德语"},{iId:42,item:"小语种西班牙语"},{iId:43,item:"小语种日语"},{iId:44,item:"小语种葡萄牙语"},{iId:45,item:"小语种韩语"},{iId:50,item:"艺体类音乐"},{iId:51,item:"艺体类美术"},{iId:52,item:"艺体类舞蹈"},{iId:53,item:"艺体类体育"},{iId:54,item:"艺体类其他"},{iId:60,item:"其他"}],d=["周一到周五晚上","周一到周五全天","周六上午","周六下午","周六晚上","周日上午","周日下午","周日晚上","寒暑假均可"],l=[],m={},c=[],u={created:function(){this.gettable()},data:function(){return{orderInfo:{pageNumber:1,pageSize:10},data:l,columns:o,itemId:s,timeId:d,areaId:r,notes:"",did:Number,teachers:c,modalVisible:!1,modal1Visible:!1,modal2Visible:!1,loading:!1,demandRegister:m,pagination:{displayPage:1,displayRows:10,pageSize:10,total:0,pageSizeOptions:["10","20","30","50"]},form:this.$form.createForm(this),formItemLayout:{labelCol:{span:5},wrapperCol:{xs:{span:24},sm:{span:16}}},options2:[{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"}]}},methods:{gettable:function(){var e=this;e.$api.mode.getUnmatchedContracts({params:e.orderInfo}).then((function(t){console.log(t.data),e.data=[],e.data=t.data.records,e.pagination.total=t.data.total,console.log(e.data)})).catch((function(e){console.log(e.response)}))},onChange:function(e,t){console.log(e,t)},filter:function(e,t){return t.some((function(t){return t.label.toLowerCase().indexOf(e.toLowerCase())>-1}))},reject:function(e){var t=this;console.log(e),this.$api.mode.deleteDemand("".concat(e.did)).then((function(e){console.log(e),t.gettable(),t.$message.success("已结束订单")})).catch((function(e){console.log(e.response)}))},showSizeChange:function(e,t){this.pagination.displayRows=t,this.orderInfo.pageSize=t,this.gettable()},handlePageChange:function(e){console.log(e),this.pagination.displayPage=e,this.orderInfo.pageNumber=e,this.gettable()},AddNotes:function(e){console.log(e),this.notes=e.remark,this.did=e.did,this.modalVisible=!0,this.$message.success("查看备注")},handleOk:function(e){var t=this;this.loading=!0,e.preventDefault(),this.form.validateFields((function(e,a){console.log("error",e),console.log("Received values of form: ",a),t.$api.mode.putRemark(t.did,{remark:a.notes}).then((function(e){console.log(e),t.gettable(),t.$message.success("已保存")})).catch((function(e){console.log(e.response)})),setTimeout((function(){t.modalVisible=!1,t.loading=!1}),3e3)}))},handleCancel:function(){this.modalVisible=!1},handleOk1:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,a){console.log("error",e),console.log("Received values of form: ",a),t.$api.mode.putDemandVerify({areaId:t.demandRegister.areaId,did:t.demandRegister.did,gradeId:t.demandRegister.gradeId,itemId:t.demandRegister.itemId,parentId:t.demandRegister.parentId,parentName:t.demandRegister.parentName,price:t.demandRegister.price,studyTimes:t.demandRegister.studyTimes,teacherGender:t.demandRegister.teacherGender,classHours:a.studyHours,address:a.detailadress,priority:null==a.priority?null:a.priority[0],studentLearningSituation:a.studentLearningSituation,verifiedPrice:a.verifyPrice,version:t.demandRegister.version}).then((function(e){console.log(e.data),t.$message.success("已发布")})).catch((function(e){console.log(e.response)})),t.loading=!0,setTimeout((function(){t.modal1Visible=!1,t.loading=!1}),3e3)}))},handleCancel1:function(e){this.modal1Visible=!1},showModal:function(e){var t=this;console.log(e);var a=this;a.$api.mode.getDemandVerify("".concat(e.did)).then((function(e){console.log(e.data),a.demandRegister={},a.demandRegister=e.data,a.modal1Visible=!0,t.$message.success("请编辑")})).catch((function(e){console.log(e.response)}))},showModal2:function(e){var t=this,a=this;a.$api.mode.getDemandVerify("".concat(e.did)).then((function(e){console.log(e.data),a.demandRegister={},a.demandRegister=e.data})).catch((function(e){console.log(e.response)})),a.$api.mode.getApplyTeacher("".concat(e.did)).then((function(e){console.log(e.data),a.teachers=e.data,a.modal2Visible=!0,t.$message.success("查看投递状态成功")})).catch((function(e){console.log(e.response)}))},hideModal2:function(){this.modal2Visible=!1},handleOk2:function(e){var t=this;this.loading=!0,setTimeout((function(){t.modal2Visible=!1,t.loading=!1}),3e3)},handleCancel2:function(e){this.modal2Visible=!1}}},f=u,p=(a("9ea2"),a("2877")),g=Object(p["a"])(f,i,n,!1,null,null,null);t["default"]=g.exports}}]);