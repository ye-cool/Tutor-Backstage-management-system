(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-08661416"],{"6d32":function(e,t,a){"use strict";a("9cc8")},"79be":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{style:{padding:"24px",background:"#fff",textAlign:"center"}},[a("div",{staticClass:"content"},[a("div",{staticClass:"search"},[a("a-form",{staticClass:"search",attrs:{form:e.form},on:{submit:e.handleSearch}},[a("a-space",[a("br"),a("br"),a("a-form-item",[a("span",{staticClass:"search-condition"},[e._v("搜索条件")])]),a("br"),a("br"),a("a-form-item",[a("a-cascader",{directives:[{name:"decorator",rawName:"v-decorator",value:["StudentArea"],expression:"['StudentArea']"}],attrs:{options:e.options1,"show-search":{filter:e.filter},placeholder:"所在地区"},on:{change:e.onChange}})],1),a("br"),a("br"),a("a-form-item",[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["StudentGrade"],expression:"['StudentGrade']"}],staticStyle:{width:"120px"},attrs:{placeholder:"学生年级",allowClear:!0},on:{change:e.handlegradeChange}},e._l(e.gradeData,(function(t){return a("a-select-option",{key:t},[e._v(" "+e._s(t)+" ")])})),1)],1),a("br"),a("br"),a("a-form-item",[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["StudentSubject"],expression:"['StudentSubject']"}],staticStyle:{width:"150px"},attrs:{placeholder:"补习科目",allowClear:!0}},[e.istrue?a("a-select-option",{key:1e6,attrs:{disabled:""}},[e._v(" 请先选择授课年级 ")]):e._e(),e._l(e.subjects,(function(t){return a("a-select-option",{key:t},[e._v(" "+e._s(t)+" ")])}))],2)],1),a("br"),a("br"),a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["nameortel"],expression:"['nameortel']"}],staticStyle:{width:"200px"},attrs:{placeholder:"家长称谓/联系电话"}})],1),a("br"),a("br"),a("a-form-item",[a("a-button",{attrs:{loading:e.loading,type:"primary",icon:"search","html-type":"submit"}},[e._v(" 搜索 ")])],1)],1)],1)],1),a("a-table",{attrs:{columns:e.columns,"data-source":e.data,rowKey:"did",pagination:!1},scopedSlots:e._u([{key:"itemId",fn:function(t){return[e._v(" "+e._s(void 0==t.itemId||e.itemId.filter((function(e){return e.iId==t.itemId}))==[]?null:e.itemId.filter((function(e){return e.iId==t.itemId}))[0].item)+" ")]}},{key:"areaId",fn:function(t){return[a("span",[e._v(e._s(e.areaId[t]))])]}},{key:"need",fn:function(t){return[a("a",{on:{click:function(a){return e.showModal(t)}}},[e._v("编辑")])]}},{key:"verifyStatus",fn:function(t){return[a("a",[e._v(e._s(0==t||1==t?"待审核":2==t?"已通过":"不通过"))])]}},{key:"deliveryStatus",fn:function(t,i){return[a("a",{on:{click:function(t){return e.showModal2(i)}}},[e._v("已有"+e._s(t)+"人投递")])]}}])}),a("a-pagination",{staticStyle:{margin:"16px 0","text-align":"right"},attrs:{current:e.pagination.displayPage,pageSize:e.pagination.displayRows,total:e.pagination.total,pageSizeOptions:e.pagination.pageSizeOptions,showTotal:function(e){return"共 "+e+" 条数据"},showSizeChanger:"",showQuickJumper:""},on:{change:e.handlePageChange,showSizeChange:e.showSizeChange}}),a("a-modal",{attrs:{visible:e.modal1Visible,title:"家长需求","on-ok":"handleOk",closable:!1,width:"700px"}},[a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:e.handleCancel}},[e._v(" 返回 ")]),a("a-button",{key:"submit",attrs:{type:"primary",loading:e.loading},on:{click:e.handleOk}},[e._v(" 发布 ")])],1),a("a-form",{attrs:{form:e.form}},[a("a-form-item",e._b({attrs:{label:"家长称谓"}},"a-form-item",e.formItemLayout,!1),[a("span",[e._v(" "+e._s(e.demandRegister.parentName)+" ")])]),a("a-form-item",e._b({attrs:{label:"学生补习科目"}},"a-form-item",e.formItemLayout,!1),[a("span",[e._v(" "+e._s(void 0==e.demandRegister.itemId||e.itemId.filter((function(t){return t.iId==e.demandRegister.itemId}))==[]?null:e.itemId.filter((function(t){return t.iId==e.demandRegister.itemId}))[0].item)+" ")])]),a("a-form-item",e._b({attrs:{label:"学生情况与老师要求"}},"a-form-item",e.formItemLayout,!1),[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["studentLearningSituation",{initialValue:e.demandRegister.studentLearningSituation}],expression:"[\n              'studentLearningSituation',\n              {\n                initialValue: demandRegister.studentLearningSituation,\n              },\n            ]"}],staticStyle:{width:"500px"},attrs:{rows:4}})],1),a("a-form-item",e._b({attrs:{label:"联系电话","has-feedback":""}},"a-form-item",e.formItemLayout,!1),[a("span",[e._v(e._s(e.demandRegister.phone)+" ")])]),a("a-form-item",e._b({attrs:{label:"家庭住址","has-feedback":""}},"a-form-item",e.formItemLayout,!1),[a("span",[e._v(" "+e._s(e.areaId[e.demandRegister.areaId]))])]),a("a-form-item",e._b({},"a-form-item",e.formItemLayout,!1),[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 详细地址 ")]),a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["detailadress",{initialValue:e.demandRegister.address}],expression:"[\n              'detailadress',\n              {\n                initialValue: demandRegister.address,\n              },\n            ]"}],staticStyle:{width:"500px"}})],1),a("a-form-item",e._b({},"a-form-item",e.formItemLayout,!1),[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 预期价格 ")]),a("span",[e._v(e._s(e.demandRegister.price))]),a("span",[e._v("元/小时")])]),a("a-form-item",e._b({},"a-form-item",e.formItemLayout,!1),[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 展示价格 ")]),a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["verifyPrice",{initialValue:null==e.demandRegister.verifiedPrice?null:e.demandRegister.verifiedPrice}],expression:"[\n              'verifyPrice',\n              {\n                initialValue:\n                  demandRegister.verifiedPrice == null\n                    ? null\n                    : demandRegister.verifiedPrice,\n              },\n            ]"}],staticStyle:{width:"50px"}}),a("span",[e._v("元/小时")])],1),a("a-form-item",e._b({},"a-form-item",e.formItemLayout,!1),[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 教师性别要求 ")]),a("span",[e._v(e._s(0==e.demandRegister.teacherGender?"男":1==e.demandRegister.teacherGender?"女":"均可"))])]),a("a-form-item",e._b({},"a-form-item",e.formItemLayout,!1),[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 补习时长 ")]),a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["studyHours",{initialValue:null==e.demandRegister.classHours?null:e.demandRegister.classHours}],expression:"[\n              'studyHours',\n              {\n                initialValue:\n                  demandRegister.classHours == null\n                    ? null\n                    : demandRegister.classHours,\n              },\n            ]"}],staticStyle:{width:"500px"}})],1),a("a-form-item",e._b({},"a-form-item",e.formItemLayout,!1),[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 空闲时间 ")]),e._l(e.demandRegister.studyTimes,(function(t){return a("span",{key:t},[e._v(e._s(e.timeId[t])+"；")])}))],2),a("a-form-item",e._b({},"a-form-item",e.formItemLayout,!1),[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 设置优先级 ")]),a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["priority",{initialValue:null==e.demandRegister.priority?null:e.demandRegister.priority}],expression:"[\n              'priority',\n              {\n                initialValue:\n                  demandRegister.priority == null\n                    ? null\n                    : demandRegister.priority,\n              },\n            ]"}],staticStyle:{width:"100px"},attrs:{placeholder:"优先级",allowClear:!0}},e._l(e.options2,(function(t){return a("a-select-option",{key:t},[e._v(" "+e._s(t)+" ")])})),1)],1)],1)],2),a("a-modal",{attrs:{visible:e.modal2Visible,title:"Title","on-ok":"handleOk2",closable:!1}},[a("template",{slot:"footer"},[a("a-button",{key:"back",attrs:{type:"primary"},on:{click:e.handleCancel2}},[e._v(" 返回 ")])],1),a("a-form",{staticClass:"form"},[a("a-form-item",e._b({attrs:{label:"投递老师"}},"a-form-item",e.formItemLayout,!1),[a("div",{staticClass:"teachername"},[e._l(e.teachers,(function(t){return a("a",{key:t.name,on:{click:function(a){return e.showteacherModal(t)}}},[e._v(e._s(void 0==t.name?"无":t.name)+"；")])})),0==e.teachers.length?a("div",[e._v("无")]):e._e()],2)]),a("a-form-item",e._b({attrs:{label:"家长称谓"}},"a-form-item",e.formItemLayout,!1),[a("span",[e._v(e._s(e.demandRegister.parentName))])]),a("a-form-item",e._b({attrs:{label:"学生补习科目","has-feedback":""}},"a-form-item",e.formItemLayout,!1),[a("span",[e._v(e._s(void 0==e.demandRegister.itemId||e.itemId.filter((function(t){return t.iId==e.demandRegister.itemId}))==[]?null:e.itemId.filter((function(t){return t.iId==e.demandRegister.itemId}))[0].item))])]),a("a-form-item",e._b({attrs:{label:"学习情况","has-feedback":""}},"a-form-item",e.formItemLayout,!1),[a("span",[e._v(e._s(e.demandRegister.studentLearningSituation))])]),a("a-form-item",e._b({attrs:{label:"联系电话","has-feedback":""}},"a-form-item",e.formItemLayout,!1),[a("span",[e._v(e._s(e.demandRegister.phone))])]),a("a-form-item",e._b({attrs:{label:"家庭住址","has-feedback":""}},"a-form-item",e.formItemLayout,!1),[a("span",[e._v(e._s(e.demandRegister.address))])]),a("a-form-item",e._b({attrs:{label:"期望价格","has-feedback":""}},"a-form-item",e.formItemLayout,!1),[a("span",[e._v(e._s(e.demandRegister.price))]),a("span",[e._v("元/小时")])]),a("a-form-item",e._b({attrs:{label:"展示价格","has-feedback":""}},"a-form-item",e.formItemLayout,!1),[a("span",[e._v(e._s(e.demandRegister.verifiedPrice))]),a("span",[e._v("元/小时")])]),a("a-form-item",e._b({attrs:{label:"教师性别要求","has-feedback":""}},"a-form-item",e.formItemLayout,!1),[a("span",[e._v(e._s(0==e.demandRegister.teacherGender?"男":1==e.demandRegister.teacherGender?"女":"均可"))])]),a("a-form-item",e._b({attrs:{label:"补习时长","has-feedback":""}},"a-form-item",e.formItemLayout,!1),[a("span",[e._v(e._s(e.demandRegister.classHours))])]),a("a-form-item",e._b({attrs:{label:"空闲时间","has-feedback":""}},"a-form-item",e.formItemLayout,!1),e._l(e.demandRegister.studyTimes,(function(t){return a("span",{key:t},[e._v(e._s(e.timeId[t])+"；")])})),0)],1)],2),a("teacherVrifyModal",{attrs:{modal2Visible:e.modal3Visible,TeacherVerify:e.TeacherVerify},on:{changeVisible2:e.changeVisible2}})],1)])},n=[],r=(a("7db0"),a("a4c8")),s=[{title:"家长称谓",dataIndex:"parentName",key:"parentName"},{title:"学生年级与补习科目",key:"itemId",width:200,scopedSlots:{customRender:"itemId"}},{title:"联系电话",dataIndex:"phone",key:"phone",ellipsis:!0},{title:"家庭住址范围",dataIndex:"areaId",key:"areaId",ellipsis:!0,scopedSlots:{customRender:"areaId"}},{title:"需求查看",key:"need",ellipsis:!0,scopedSlots:{customRender:"need"}},{title:"审核状态",dataIndex:"verifyStatus",key:"verifyStatus",ellipsis:!0,scopedSlots:{customRender:"verifyStatus"}},{title:"投递状态",dataIndex:"applyNumber",key:"deliveryStatus",ellipsis:!0,scopedSlots:{customRender:"deliveryStatus"}}],o=[],d=["小学","初中","高中","小语种","艺术类","其他"],l={"小学":["全科","语文","奥数","数学","英语","作业辅导"],"初中":["全科","语文","英语","数学","物理","化学"],"高中":["数学","语文","英语","物理","化学","生物","历史","政治","地理"],"小语种":["法语","德语","西班牙语","日语","葡萄牙语","韩语"],"艺术类":["音乐","美术","舞蹈","体育","其他"],"其他":[]},m=[],c=["锦江区","金牛区","武侯区","青羊区","成华区","高新区","天府新区","新都区","郫都区","双流区","龙泉驿区","温江区","其他"],u=[{iId:10,item:"小学全科"},{iId:11,item:"小学语文"},{iId:12,item:"小学奥数"},{iId:13,item:"小学数学"},{iId:14,item:"小学英语"},{iId:15,item:"小学作业辅导"},{iId:20,item:"初中全科"},{iId:21,item:"初中语文"},{iId:22,item:"初中英语"},{iId:23,item:"初中数学"},{iId:24,item:"初中物理"},{iId:25,item:"初中化学"},{iId:30,item:"高中数学"},{iId:31,item:"高中语文"},{iId:32,item:"高中英语"},{iId:33,item:"高中物理"},{iId:34,item:"高中化学"},{iId:35,item:"高中生物"},{iId:36,item:"高中历史"},{iId:37,item:"高中政治"},{iId:38,item:"高中地理"},{iId:40,item:"小语种法语"},{iId:41,item:"小语种德语"},{iId:42,item:"小语种西班牙语"},{iId:43,item:"小语种日语"},{iId:44,item:"小语种葡萄牙语"},{iId:45,item:"小语种韩语"},{iId:50,item:"艺体类音乐"},{iId:51,item:"艺体类美术"},{iId:52,item:"艺体类舞蹈"},{iId:53,item:"艺体类体育"},{iId:54,item:"艺体类其他"},{iId:60,item:"其他"}],f=["周一到周五晚上","周一到周五全天","周六上午","周六下午","周六晚上","周日上午","周日下午","周日晚上","寒暑假均可"],g={},p={},h={},b=null,v=[],y={created:function(){this.gettable()},data:function(){return{demandInfo:{pageNumber:1,pageSize:10},teachers:v,verifyStatus:b,demandRegister:g,demandVerify:p,TeacherVerify:h,areaId:c,itemId:u,timeId:f,data:o,istrue:!0,loading:!1,form:this.$form.createForm(this),modalVisible:!1,modal1Visible:!1,modal2Visible:!1,modal3Visible:!1,gradeData:d,subjectData:l,subjects:m,columns:s,pagination:{displayPage:1,displayRows:10,pageSize:10,total:0,pageSizeOptions:["10","20","30","50"]},formItemLayout:{labelCol:{span:6}},tailFormItemLayout:{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},options1:[{value:"锦江区",label:"锦江区"},{value:"金牛区",label:"金牛区"},{value:"武侯区",label:"武侯区"},{value:"青羊区",label:"青羊区"},{value:"成华区",label:"成华区"},{value:"高新区",label:"高新区"},{value:"天府新区",label:"天府新区"},{value:"新都区",label:"新都区"},{value:"郫都区",label:"郫都区"},{value:"双流区",label:"双流区"},{value:"龙泉驿区",label:"龙泉驿区"},{value:"温江区",label:"温江区"},{value:"其他",label:"其他"}],options2:[1,2,3]}},components:{teacherVrifyModal:r["a"]},methods:{handleSearch:function(e){var t=this;this.loading=!0,e.preventDefault(),this.form.validateFields((function(e,a){console.log("error",e),console.log("Received values of form: ",a);var i=u.find((function(e){return""==a.StudentSubject?e.item==a.StudentSubject+"":e.item==a.StudentSubject+a.StudentSubject}));t.$api.mode.getDemand({params:{areaId:-1==c.indexOf(void 0==a.StudentArea?null:a.StudentArea[0])?null:c.indexOf(void 0==a.StudentArea?null:a.StudentArea[0]),itemId:void 0==i?null:i.iId,nameOrPhone:a.nameortel,pageNumber:1,pageSize:10}}).then((function(e){console.log(e.data),t.data=[],t.data=e.data.records,console.log(t.data),t.pagination.total=e.data.total,t.$message.success("搜索成功"),t.loading=!1})).catch((function(e){console.log(e.response)}))}))},handlegradeChange:function(e){this.istrue=!1,void 0==e?this.subjects=[]:(this.subjects=l[e],this.form.setFieldsValue({StudentSubject:void 0==l[e][0]?"":l[e][0]}))},gettable:function(){var e=this;e.$api.mode.getDemand({params:e.demandInfo}).then((function(t){console.log(t.data),e.data=[],e.data=t.data.records,e.pagination.total=t.data.total,console.log(e.data)})).catch((function(e){console.log(e.response)}))},changeVisible2:function(e){this.modal3Visible=e},showteacherModal:function(e){var t=this;if(console.log(e),1===e.newTeacherStatus){var a=this;a.$api.mode.getRegister("".concat(e.tid)).then((function(e){console.log(e.data),a.TeacherVerify={},a.TeacherVerify=e.data,t.modal3Visible=!0})).catch((function(e){console.log(e.response)}))}else{var i=this;i.$api.mode.getVerify("".concat(e.tid)).then((function(e){console.log(e.data),i.TeacherVerify={},i.TeacherVerify=e.data,i.modal3Visible=!0})).catch((function(e){console.log(e.response)}))}},showModal:function(e){var t=this;if(console.log(e),this.verifyStatus=e.verifyStatus,0==e.verifyStatus||3==e.verifyStatus){var a=this;a.$api.mode.getDemandRegister("".concat(e.did)).then((function(e){console.log(e.data),a.demandRegister={},a.demandRegister=e.data,a.modal1Visible=!0,t.$message.success("请编辑")})).catch((function(e){console.log(e.response)}))}else{var i=this;i.$api.mode.getDemandVerify("".concat(e.did)).then((function(e){console.log(e.data),i.demandRegister={},i.demandRegister=e.data,i.modal1Visible=!0,t.$message.success("请编辑")})).catch((function(e){console.log(e.response)}))}},handleOk:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,a){console.log("error",e),console.log("Received values of form: ",a),0==t.verifyStatus||3==t.verifyStatus?t.$api.mode.postDemandVerify({areaId:t.demandRegister.areaId,did:t.demandRegister.did,gradeId:t.demandRegister.gradeId,itemId:t.demandRegister.itemId,parentId:t.demandRegister.parentId,parentName:t.demandRegister.parentName,price:t.demandRegister.price,studyTimes:t.demandRegister.studyTimes,teacherGender:t.demandRegister.teacherGender,classHours:a.studyHours,address:a.detailadress,priority:a.priority,studentLearningSituation:a.studentLearningSituation,verifiedPrice:a.verifyPrice,version:t.demandRegister.version}).then((function(e){console.log(e.data),t.$message.success("已发布"),t.gettable()})).catch((function(e){console.log(e.response)})):t.$api.mode.putDemandVerify({areaId:t.demandRegister.areaId,did:t.demandRegister.did,gradeId:t.demandRegister.gradeId,itemId:t.demandRegister.itemId,parentId:t.demandRegister.parentId,parentName:t.demandRegister.parentName,price:t.demandRegister.price,studyTimes:t.demandRegister.studyTimes,teacherGender:t.demandRegister.teacherGender,classHours:a.studyHours,address:a.detailadress,priority:a.priority,studentLearningSituation:a.studentLearningSituation,verifiedPrice:a.verifyPrice,version:t.demandRegister.version}).then((function(e){console.log(e.data),t.$message.success("已发布"),t.gettable()})).catch((function(e){console.log(e.response)})),t.loading=!0,setTimeout((function(){t.modal1Visible=!1,t.loading=!1}),3e3)}))},handleCancel:function(e){this.modal1Visible=!1},showModal2:function(e){var t=this;if(0==this.verifyStatus||3==this.verifyStatus)this.$message.warning("该需求还未审核通过");else{var a=this;a.$api.mode.getDemandVerify("".concat(e.did)).then((function(e){console.log(e.data),a.demandRegister={},a.demandRegister=e.data})).catch((function(e){console.log(e.response)})),a.$api.mode.getApplyTeacher("".concat(e.did)).then((function(e){console.log(e.data),a.teachers=e.data,a.modal2Visible=!0,t.$message.success("查看投递状态成功")})).catch((function(e){console.log(e.response)}))}},handleOk2:function(e){var t=this;this.loading=!0,setTimeout((function(){t.modal2Visible=!1,t.loading=!1}),3e3)},handleCancel2:function(e){this.modal2Visible=!1},onChange:function(e,t){console.log(e,t)},filter:function(e,t){return t.some((function(t){return t.label.toLowerCase().indexOf(e.toLowerCase())>-1}))},showSizeChange:function(e,t){this.pagination.displayRows=t,this.demandInfo.pageSize=t,this.gettable()},handlePageChange:function(e){console.log(e),this.pagination.displayPage=e,this.demandInfo.pageNumber=e,this.gettable()}}},I=y,_=(a("6d32"),a("2877")),R=Object(_["a"])(I,i,n,!1,null,null,null);t["default"]=R.exports},"9cc8":function(e,t,a){}}]);